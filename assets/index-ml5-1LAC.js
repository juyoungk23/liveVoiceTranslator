var Je=Object.defineProperty;var Ke=(e,t,n)=>t in e?Je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ge=(e,t,n)=>(Ke(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function B(){}function Be(e){return e()}function Se(){return Object.create(null)}function ue(e){e.forEach(Be)}function Te(e){return typeof e=="function"}function Me(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let se;function ke(e,t){return e===t?!0:(se||(se=document.createElement("a")),se.href=t,e===se.href)}function ze(e){return Object.keys(e).length===0}function Ge(e,...t){if(e==null){for(const l of t)l(void 0);return B}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function he(e,t,n){e.$$.on_destroy.push(Ge(t,n))}function $e(e){return e??""}function Re(e,t,n){return e.set(n),t}function a(e,t){e.appendChild(t)}function ae(e,t,n){e.insertBefore(t,n||null)}function W(e){e.parentNode&&e.parentNode.removeChild(e)}function fe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function N(e){return document.createTextNode(e)}function C(){return N(" ")}function Q(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function He(e){return Array.from(e.childNodes)}function de(e,t){t=""+t,e.data!==t&&(e.data=t)}function me(e,t){e.value=t??""}function x(e,t,n){for(let l=0;l<e.options.length;l+=1){const o=e.options[l];if(o.__value===t){o.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function _e(e){const t=e.querySelector(":checked");return t&&t.__value}function re(e,t,n){e.classList.toggle(t,!!n)}let ye;function ie(e){ye=e}const ne=[],Ee=[];let le=[];const Oe=[],Ve=Promise.resolve();let ve=!1;function Ye(){ve||(ve=!0,Ve.then(qe))}function oe(e){le.push(e)}const pe=new Set;let ee=0;function qe(){if(ee!==0)return;const e=ye;do{try{for(;ee<ne.length;){const t=ne[ee];ee++,ie(t),Ze(t.$$)}}catch(t){throw ne.length=0,ee=0,t}for(ie(null),ne.length=0,ee=0;Ee.length;)Ee.pop()();for(let t=0;t<le.length;t+=1){const n=le[t];pe.has(n)||(pe.add(n),n())}le.length=0}while(ne.length);for(;Oe.length;)Oe.pop()();ve=!1,pe.clear(),ie(e)}function Ze(e){if(e.fragment!==null){e.update(),ue(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(oe)}}function Qe(e){const t=[],n=[];le.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),le=t}const We=new Set;function Xe(e,t){e&&e.i&&(We.delete(e),e.i(t))}function H(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function xe(e,t,n){const{fragment:l,after_update:o}=e.$$;l&&l.m(t,n),oe(()=>{const i=e.$$.on_mount.map(Be).filter(Te);e.$$.on_destroy?e.$$.on_destroy.push(...i):ue(i),e.$$.on_mount=[]}),o.forEach(oe)}function et(e,t){const n=e.$$;n.fragment!==null&&(Qe(n.after_update),ue(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(e,t){e.$$.dirty[0]===-1&&(ne.push(e),Ye(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function nt(e,t,n,l,o,i,m=null,g=[-1]){const L=ye;ie(e);const s=e.$$={fragment:null,ctx:[],props:i,update:B,not_equal:o,bound:Se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(L?L.$$.context:[])),callbacks:Se(),dirty:g,skip_bound:!1,root:t.target||L.$$.root};m&&m(s.root);let D=!1;if(s.ctx=n?n(e,t.props||{},(r,$,...O)=>{const A=O.length?O[0]:$;return s.ctx&&o(s.ctx[r],s.ctx[r]=A)&&(!s.skip_bound&&s.bound[r]&&s.bound[r](A),D&&tt(e,r)),$}):[],s.update(),D=!0,ue(s.before_update),s.fragment=l?l(s.ctx):!1,t.target){if(t.hydrate){const r=He(t.target);s.fragment&&s.fragment.l(r),r.forEach(W)}else s.fragment&&s.fragment.c();t.intro&&Xe(e.$$.fragment),xe(e,t.target,t.anchor),qe()}ie(L)}class lt{constructor(){ge(this,"$$");ge(this,"$$set")}$destroy(){et(this,1),this.$destroy=B}$on(t,n){if(!Te(n))return B;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(t){this.$$set&&!ze(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ot="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ot);const te=[];function be(e,t=B){let n;const l=new Set;function o(g){if(Me(e,g)&&(e=g,n)){const L=!te.length;for(const s of l)s[1](),te.push(s,e);if(L){for(let s=0;s<te.length;s+=2)te[s][0](te[s+1]);te.length=0}}}function i(g){o(g(e))}function m(g,L=B){const s=[g,L];return l.add(s),l.size===1&&(n=t(o,i)||B),g(e),()=>{l.delete(s),l.size===0&&n&&(n(),n=null)}}return{set:o,update:i,subscribe:m}}function Ie(e,t,n){const l=e.slice();return l[22]=t[n][0],l[23]=t[n][1],l[24]=t,l[25]=n,l}function Ue(e,t,n){const l=e.slice();return l[26]=t[n],l}function Pe(e,t,n){const l=e.slice();return l[29]=t[n],l}function Ae(e,t,n){const l=e.slice();return l[29]=t[n],l}function Ce(e){let t,n=e[29].label+"",l;return{c(){t=p("option"),l=N(n),t.__value=e[29].value,me(t,t.__value)},m(o,i){ae(o,t,i),a(t,l)},p:B,d(o){o&&W(t)}}}function Ne(e){let t,n=e[29].label+"",l;return{c(){t=p("option"),l=N(n),t.__value=e[29].value,me(t,t.__value)},m(o,i){ae(o,t,i),a(t,l)},p:B,d(o){o&&W(t)}}}function De(e){let t,n=e[26].label+"",l;return{c(){t=p("option"),l=N(n),t.__value=e[26].label,me(t,t.__value)},m(o,i){ae(o,t,i),a(t,l)},p:B,d(o){o&&W(t)}}}function Fe(e){let t,n,l=e[22]+"",o,i,m,g,L,s,D,r,$,O,A,j,M,F,V,R,q,Y,J,I,K,_,b,v,k,Z,T,w,E,c=H(e[10]),h=[];for(let f=0;f<c.length;f+=1)h[f]=Ce(Ae(e,c,f));function y(){e[15].call(r,e[24],e[25])}let z=H(e[10]),U=[];for(let f=0;f<z.length;f+=1)U[f]=Ne(Pe(e,z,f));function Le(){e[16].call(R,e[24],e[25])}let X=H(e[9]),P=[];for(let f=0;f<X.length;f+=1)P[f]=De(Ue(e,X,f));function we(){e[17].call(v,e[24],e[25])}return{c(){t=p("div"),n=p("h2"),o=N(l),i=C(),m=p("div"),g=p("label"),L=N("Input Language:"),D=C(),r=p("select");for(let f=0;f<h.length;f+=1)h[f].c();O=C(),A=p("div"),j=p("label"),M=N("Output Language:"),V=C(),R=p("select");for(let f=0;f<U.length;f+=1)U[f].c();Y=C(),J=p("div"),I=p("label"),K=N("Voice:"),b=C(),v=p("select");for(let f=0;f<P.length;f+=1)P[f].c();Z=C(),d(g,"for",s=`${e[22]}-inputLanguage`),d(r,"id",$=`${e[22]}-inputLanguage`),d(r,"class","svelte-1yy0ua7"),e[23].inputLanguage===void 0&&oe(y),d(j,"for",F=`${e[22]}-outputLanguage`),d(R,"id",q=`${e[22]}-outputLanguage`),d(R,"class","svelte-1yy0ua7"),e[23].outputLanguage===void 0&&oe(Le),d(I,"for",_=`${e[22]}-voice`),d(v,"id",k=`${e[22]}-voice`),d(v,"class","svelte-1yy0ua7"),e[23].voice===void 0&&oe(we),d(t,"class",T=$e(`column ${e[3]===e[22]?"active":""}`)+" svelte-1yy0ua7")},m(f,S){ae(f,t,S),a(t,n),a(n,o),a(t,i),a(t,m),a(m,g),a(g,L),a(m,D),a(m,r);for(let u=0;u<h.length;u+=1)h[u]&&h[u].m(r,null);x(r,e[23].inputLanguage,!0),a(t,O),a(t,A),a(A,j),a(j,M),a(A,V),a(A,R);for(let u=0;u<U.length;u+=1)U[u]&&U[u].m(R,null);x(R,e[23].outputLanguage,!0),a(t,Y),a(t,J),a(J,I),a(I,K),a(J,b),a(J,v);for(let u=0;u<P.length;u+=1)P[u]&&P[u].m(v,null);x(v,e[23].voice,!0),a(t,Z),w||(E=[Q(r,"change",y),Q(R,"change",Le),Q(v,"change",we)],w=!0)},p(f,S){if(e=f,S[0]&4&&l!==(l=e[22]+"")&&de(o,l),S[0]&1028&&s!==(s=`${e[22]}-inputLanguage`)&&d(g,"for",s),S[0]&1024){c=H(e[10]);let u;for(u=0;u<c.length;u+=1){const G=Ae(e,c,u);h[u]?h[u].p(G,S):(h[u]=Ce(G),h[u].c(),h[u].m(r,null))}for(;u<h.length;u+=1)h[u].d(1);h.length=c.length}if(S[0]&1028&&$!==($=`${e[22]}-inputLanguage`)&&d(r,"id",$),S[0]&1028&&x(r,e[23].inputLanguage),S[0]&1028&&F!==(F=`${e[22]}-outputLanguage`)&&d(j,"for",F),S[0]&1024){z=H(e[10]);let u;for(u=0;u<z.length;u+=1){const G=Pe(e,z,u);U[u]?U[u].p(G,S):(U[u]=Ne(G),U[u].c(),U[u].m(R,null))}for(;u<U.length;u+=1)U[u].d(1);U.length=z.length}if(S[0]&1028&&q!==(q=`${e[22]}-outputLanguage`)&&d(R,"id",q),S[0]&1028&&x(R,e[23].outputLanguage),S[0]&1028&&_!==(_=`${e[22]}-voice`)&&d(I,"for",_),S[0]&512){X=H(e[9]);let u;for(u=0;u<X.length;u+=1){const G=Ue(e,X,u);P[u]?P[u].p(G,S):(P[u]=De(G),P[u].c(),P[u].m(v,null))}for(;u<P.length;u+=1)P[u].d(1);P.length=X.length}S[0]&1028&&k!==(k=`${e[22]}-voice`)&&d(v,"id",k),S[0]&1028&&x(v,e[23].voice),S[0]&1036&&T!==(T=$e(`column ${e[3]===e[22]?"active":""}`)+" svelte-1yy0ua7")&&d(t,"class",T)},d(f){f&&W(t),fe(h,f),fe(U,f),fe(P,f),w=!1,ue(E)}}}function je(e){let t,n,l;return{c(){t=p("div"),n=p("audio"),ke(n.src,l=e[5])||d(n,"src",l),n.controls=!0,d(t,"class","audio-player svelte-1yy0ua7")},m(o,i){ae(o,t,i),a(t,n)},p(o,i){i[0]&32&&!ke(n.src,l=o[5])&&d(n,"src",l)},d(o){o&&W(t)}}}function ut(e){let t,n,l,o,i,m,g,L,s,D,r,$=e[1]?"Stop":"Start",O,A,j,M,F,V,R,q,Y,J,I,K=e[0]?"Submitting...":"Submit",_,b,v,k,Z,T=H(Object.entries(e[2])),w=[];for(let c=0;c<T.length;c+=1)w[c]=Fe(Ie(e,T,c));let E=e[5]&&je(e);return{c(){t=p("div"),n=p("h1"),n.textContent="Audio Translation App",l=C(),o=p("div"),i=p("button"),i.textContent="Person 1",m=C(),g=p("button"),g.textContent="Person 2",L=C(),s=p("div");for(let c=0;c<w.length;c+=1)w[c].c();D=C(),r=p("button"),O=N($),A=N(" Recording"),M=C(),F=p("p"),V=N("Recording... "),R=p("span"),q=N(e[4]),Y=N(" seconds left"),J=C(),I=p("button"),_=N(K),v=C(),E&&E.c(),d(n,"class","svelte-1yy0ua7"),d(i,"class","svelte-1yy0ua7"),re(i,"active",e[3]==="person1"),d(g,"class","svelte-1yy0ua7"),re(g,"active",e[3]==="person2"),d(o,"class","mode-selector svelte-1yy0ua7"),d(s,"class","settings svelte-1yy0ua7"),d(r,"class","record-button svelte-1yy0ua7"),r.disabled=j=e[1]||e[0],d(F,"class","svelte-1yy0ua7"),I.disabled=b=e[0]||e[1],d(I,"class","svelte-1yy0ua7"),d(t,"class","container svelte-1yy0ua7")},m(c,h){ae(c,t,h),a(t,n),a(t,l),a(t,o),a(o,i),a(o,m),a(o,g),a(t,L),a(t,s);for(let y=0;y<w.length;y+=1)w[y]&&w[y].m(s,null);a(t,D),a(t,r),a(r,O),a(r,A),a(t,M),a(t,F),a(F,V),a(F,R),a(R,q),a(F,Y),a(t,J),a(t,I),a(I,_),a(t,v),E&&E.m(t,null),k||(Z=[Q(i,"click",e[13]),Q(g,"click",e[14]),Q(r,"click",e[11]),Q(I,"click",e[12])],k=!0)},p(c,h){if(h[0]&8&&re(i,"active",c[3]==="person1"),h[0]&8&&re(g,"active",c[3]==="person2"),h[0]&1548){T=H(Object.entries(c[2]));let y;for(y=0;y<T.length;y+=1){const z=Ie(c,T,y);w[y]?w[y].p(z,h):(w[y]=Fe(z),w[y].c(),w[y].m(s,null))}for(;y<w.length;y+=1)w[y].d(1);w.length=T.length}h[0]&2&&$!==($=c[1]?"Stop":"Start")&&de(O,$),h[0]&3&&j!==(j=c[1]||c[0])&&(r.disabled=j),h[0]&16&&de(q,c[4]),h[0]&1&&K!==(K=c[0]?"Submitting...":"Submit")&&de(_,K),h[0]&3&&b!==(b=c[0]||c[1])&&(I.disabled=b),c[5]?E?E.p(c,h):(E=je(c),E.c(),E.m(t,null)):E&&(E.d(1),E=null)},i:B,o:B,d(c){c&&W(t),fe(w,c),E&&E.d(),k=!1,ue(Z)}}}let at="https://api.thevoicetranslator.com/process-audio",ce=30;function it(e,t,n){let l,o,i,m,g=!1,L=!1,s,D=be("person1");he(e,D,_=>n(3,l=_));let r={person1:{inputLanguage:"en-US",outputLanguage:"es",voice:""},person2:{inputLanguage:"en-US",outputLanguage:"es",voice:""}},$=be("");he(e,$,_=>n(5,i=_));let O=be(ce);he(e,O,_=>n(4,o=_));let A;const j=[{label:"Juyoung"},{label:"Jessica"},{label:"Aditi"},{label:"Jane"}],M=[{label:"Korean",value:"ko-KR"},{label:"English",value:"en-US"},{label:"Spanish",value:"es-ES"},{label:"French",value:"fr-FR"},{label:"Italian",value:"it-IT"},{label:"Hindi",value:"hi-IN"},{label:"Chinese",value:"zh-CN"},{label:"Dutch",value:"nl-NL"},{label:"Turkish",value:"tr-TR"},{label:"Swedish",value:"sv-SE"},{label:"Indonesian",value:"id-ID"},{label:"Filipino",value:"fil-PH"},{label:"Japanese",value:"ja-JP"},{label:"Ukrainian",value:"uk-UA"},{label:"Greek",value:"el-GR"},{label:"Czech",value:"cs-CZ"},{label:"Finnish",value:"fi-FI"},{label:"Romanian",value:"ro-RO"},{label:"Russian",value:"ru-RU"},{label:"Danish",value:"da-DK"},{label:"Bulgarian",value:"bg-BG"},{label:"Malay",value:"ms-MY"},{label:"Slovak",value:"sk-SK"},{label:"Croatian",value:"hr-HR"},{label:"Classic Arabic",value:"ar-SA"},{label:"Tamil",value:"ta-IN"},{label:"Polish",value:"pl-PL"},{label:"German",value:"de-DE"},{label:"Portuguese",value:"pt-BR"}];async function F(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){const _=await navigator.mediaDevices.getUserMedia({audio:!0}),b=new MediaRecorder(_);s=b,b.start();let v=[];b.addEventListener("dataavailable",k=>{v.push(k.data)}),b.addEventListener("stop",()=>{const k=new Blob(v);m=new File([k],"recordedAudio.wav",{type:"audio/wav"}),$.set(URL.createObjectURL(k))}),n(1,L=!0),O.set(ce),A=setInterval(()=>{O.update(k=>k>0?k-1:0)},1e3),setTimeout(()=>{L&&V()},ce*1e3)}else console.error("Recording not supported")}function V(){s&&(s.stop(),clearInterval(A),n(1,L=!1),O.set(ce))}async function R(){n(0,g=!0);let _=l==="person1"?r.person1:r.person2;const b=new FormData;b.append("audio",m),b.append("input_lang",_.inputLanguage),b.append("output_lang",_.outputLanguage.substring(0,2)),b.append("voice",_.voice),console.log("Submitting audio...",b),console.log("Person Settings:",_);try{const v=await fetch(at,{method:"POST",body:b});if(v.ok){const k=await v.blob(),Z=URL.createObjectURL(k);$.set(Z)}else console.error("Server error:",v);n(0,g=!1)}catch(v){console.error("Failed to submit audio:",v),n(0,g=!1)}}const q=()=>Re(D,l="person1",l),Y=()=>Re(D,l="person2",l);function J(_,b){_[b][1].inputLanguage=_e(this),n(2,r),n(10,M)}function I(_,b){_[b][1].outputLanguage=_e(this),n(2,r),n(10,M)}function K(_,b){_[b][1].voice=_e(this),n(2,r),n(10,M)}return[g,L,r,l,o,i,D,$,O,j,M,F,R,q,Y,J,I,K]}class st extends lt{constructor(t){super(),nt(this,t,it,ut,Me,{},null,[-1,-1])}}new st({target:document.getElementById("app")});
