var He=Object.defineProperty;var Ve=(e,t,l)=>t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;var be=(e,t,l)=>(Ve(e,typeof t!="symbol"?t+"":t,l),l);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function l(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(o){if(o.ep)return;o.ep=!0;const u=l(o);fetch(o.href,u)}})();function C(){}function Ge(e){return e()}function Le(){return Object.create(null)}function se(e){e.forEach(Ge)}function Je(e){return typeof e=="function"}function Ke(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let pe;function Ee(e,t){return e===t?!0:(pe||(pe=document.createElement("a")),pe.href=t,e===pe.href)}function Ye(e){return Object.keys(e).length===0}function Ze(e,...t){if(e==null){for(const n of t)n(void 0);return C}const l=e.subscribe(...t);return l.unsubscribe?()=>l.unsubscribe():l}function Ae(e,t,l){e.$$.on_destroy.push(Ze(t,l))}function he(e){return e??""}function a(e,t){e.appendChild(t)}function q(e,t,l){e.insertBefore(t,l||null)}function F(e){e.parentNode&&e.parentNode.removeChild(e)}function ge(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function p(e){return document.createElement(e)}function N(e){return document.createTextNode(e)}function R(){return N(" ")}function B(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function b(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function Qe(e){return Array.from(e.childNodes)}function ye(e,t){t=""+t,e.data!==t&&(e.data=t)}function je(e,t){e.value=t??""}function Ce(e,t,l,n){l==null?e.style.removeProperty(t):e.style.setProperty(t,l,n?"important":"")}function Q(e,t,l){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t){o.selected=!0;return}}(!l||t!==void 0)&&(e.selectedIndex=-1)}function ve(e){const t=e.querySelector(":checked");return t&&t.__value}let we;function ue(e){we=e}const ee=[],Ie=[];let te=[];const Ue=[],We=Promise.resolve();let ke=!1;function Xe(){ke||(ke=!0,We.then(ze))}function le(e){te.push(e)}const me=new Set;let W=0;function ze(){if(W!==0)return;const e=we;do{try{for(;W<ee.length;){const t=ee[W];W++,ue(t),xe(t.$$)}}catch(t){throw ee.length=0,W=0,t}for(ue(null),ee.length=0,W=0;Ie.length;)Ie.pop()();for(let t=0;t<te.length;t+=1){const l=te[t];me.has(l)||(me.add(l),l())}te.length=0}while(ee.length);for(;Ue.length;)Ue.pop()();ke=!1,me.clear(),ue(e)}function xe(e){if(e.fragment!==null){e.update(),se(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(le)}}function et(e){const t=[],l=[];te.forEach(n=>e.indexOf(n)===-1?t.push(n):l.push(n)),l.forEach(n=>n()),te=t}const tt=new Set;function lt(e,t){e&&e.i&&(tt.delete(e),e.i(t))}function X(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function nt(e,t,l){const{fragment:n,after_update:o}=e.$$;n&&n.m(t,l),le(()=>{const u=e.$$.on_mount.map(Ge).filter(Je);e.$$.on_destroy?e.$$.on_destroy.push(...u):se(u),e.$$.on_mount=[]}),o.forEach(le)}function ot(e,t){const l=e.$$;l.fragment!==null&&(et(l.after_update),se(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function rt(e,t){e.$$.dirty[0]===-1&&(ee.push(e),Xe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function it(e,t,l,n,o,u,c=null,f=[-1]){const h=we;ue(e);const s=e.$$={fragment:null,ctx:[],props:u,update:C,not_equal:o,bound:Le(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(h?h.$$.context:[])),callbacks:Le(),dirty:f,skip_bound:!1,root:t.target||h.$$.root};c&&c(s.root);let _=!1;if(s.ctx=l?l(e,t.props||{},(d,m,...$)=>{const D=$.length?$[0]:m;return s.ctx&&o(s.ctx[d],s.ctx[d]=D)&&(!s.skip_bound&&s.bound[d]&&s.bound[d](D),_&&rt(e,d)),m}):[],s.update(),_=!0,se(s.before_update),s.fragment=n?n(s.ctx):!1,t.target){if(t.hydrate){const d=Qe(t.target);s.fragment&&s.fragment.l(d),d.forEach(F)}else s.fragment&&s.fragment.c();t.intro&&lt(e.$$.fragment),nt(e,t.target,t.anchor),ze()}ue(h)}class ut{constructor(){be(this,"$$");be(this,"$$set")}$destroy(){ot(this,1),this.$destroy=C}$on(t,l){if(!Je(l))return C;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(l),()=>{const o=n.indexOf(l);o!==-1&&n.splice(o,1)}}$set(t){this.$$set&&!Ye(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const st="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(st);const x=[];function Oe(e,t=C){let l;const n=new Set;function o(f){if(Ke(e,f)&&(e=f,l)){const h=!x.length;for(const s of n)s[1](),x.push(s,e);if(h){for(let s=0;s<x.length;s+=2)x[s][0](x[s+1]);x.length=0}}}function u(f){o(f(e))}function c(f,h=C){const s=[f,h];return n.add(s),n.size===1&&(l=t(o,u)||C),f(e),()=>{n.delete(s),n.size===0&&l&&(l(),l=null)}}return{set:o,update:u,subscribe:c}}function Pe(e,t,l){const n=e.slice();return n[8]=t[l],n}function Ne(e,t,l){const n=e.slice();return n[29]=t[l],n}function De(e,t,l){const n=e.slice();return n[29]=t[l],n}function Fe(e){let t,l,n,o,u,c,f,h;return{c(){t=p("div"),l=p("label"),l.textContent="Upload Audio:",n=R(),o=p("input"),u=R(),c=p("p"),c.textContent=`File length max ${ie} seconds...`,b(l,"for","audioFile"),b(o,"type","file"),b(o,"accept","audio/*"),b(o,"class","svelte-11f8joj")},m(s,_){q(s,t,_),a(t,l),a(t,n),a(t,o),a(t,u),a(t,c),f||(h=B(o,"change",e[18]),f=!0)},p:C,d(s){s&&F(t),f=!1,h()}}}function $e(e){let t,l,n=e[4]?"Stop Recording":"Start Recording",o,u,c,f;function h(d,m){return d[4]?ct:at}let s=h(e),_=s(e);return{c(){t=p("div"),l=p("button"),o=N(n),u=R(),_.c(),Ce(l,"background-color",e[4]?"red":"green"),b(l,"class","svelte-11f8joj")},m(d,m){q(d,t,m),a(t,l),a(l,o),a(t,u),_.m(t,null),c||(f=B(l,"click",e[19]),c=!0)},p(d,m){m[0]&16&&n!==(n=d[4]?"Stop Recording":"Start Recording")&&ye(o,n),m[0]&16&&Ce(l,"background-color",d[4]?"red":"green"),s===(s=h(d))&&_?_.p(d,m):(_.d(1),_=s(d),_&&(_.c(),_.m(t,null)))},d(d){d&&F(t),_.d(),c=!1,f()}}}function at(e){let t;return{c(){t=p("p"),t.textContent="Can record up to 30 seconds..."},m(l,n){q(l,t,n)},p:C,d(l){l&&F(t)}}}function ct(e){let t,l,n,o,u;return{c(){t=p("p"),l=N("Recording... "),n=p("span"),o=N(e[6]),u=N(" seconds left")},m(c,f){q(c,t,f),a(t,l),a(t,n),a(n,o),a(t,u)},p(c,f){f[0]&64&&ye(o,c[6])},d(c){c&&F(t)}}}function Te(e){let t,l=e[29].label+"",n;return{c(){t=p("option"),n=N(l),t.__value=e[29].value,je(t,t.__value)},m(o,u){q(o,t,u),a(t,n)},p:C,d(o){o&&F(t)}}}function Be(e){let t,l=e[29].label+"",n;return{c(){t=p("option"),n=N(l),t.__value=e[29].value,je(t,t.__value)},m(o,u){q(o,t,u),a(t,n)},p:C,d(o){o&&F(t)}}}function qe(e){let t,l=e[8].label+"",n;return{c(){t=p("option"),n=N(l),t.__value=e[8].label,je(t,t.__value)},m(o,u){q(o,t,u),a(t,n)},p:C,d(o){o&&F(t)}}}function Me(e){let t,l,n,o;return{c(){t=p("audio"),Ee(t.src,l=e[7])||b(t,"src",l),t.controls=!0},m(u,c){q(u,t,c),n||(o=B(t,"loadedmetadata",pt),n=!0)},p(u,c){c[0]&128&&!Ee(t.src,l=u[7])&&b(t,"src",l)},d(u){u&&F(t),n=!1,o()}}}function ft(e){let t,l,n,o,u,c,f,h,s,_,d,m,$,D,U,M,ne,I,oe,G,T,ae,O,ce,z,H,fe,P,de,g,k=e[0]?"Generating...":"Submit",J,S,Re,re,_e,Se,L=e[5]==="upload"&&Fe(e),E=e[5]==="record"&&$e(e),V=X(e[12]),y=[];for(let r=0;r<V.length;r+=1)y[r]=Te(De(e,V,r));let Y=X(e[12]),j=[];for(let r=0;r<Y.length;r+=1)j[r]=Be(Ne(e,Y,r));let Z=X(e[11]),w=[];for(let r=0;r<Z.length;r+=1)w[r]=qe(Pe(e,Z,r));let A=e[7]&&Me(e);return{c(){t=p("div"),l=p("h1"),l.textContent="Audio Translation App",n=R(),o=p("div"),u=p("button"),c=N("Record Audio"),h=R(),s=p("button"),_=N("Upload Audio"),m=R(),L&&L.c(),$=R(),E&&E.c(),D=R(),U=p("div"),M=p("label"),M.textContent="Input Language:",ne=R(),I=p("select");for(let r=0;r<y.length;r+=1)y[r].c();oe=R(),G=p("div"),T=p("label"),T.textContent="Output Language:",ae=R(),O=p("select");for(let r=0;r<j.length;r+=1)j[r].c();ce=R(),z=p("div"),H=p("label"),H.textContent="Voice:",fe=R(),P=p("select");for(let r=0;r<w.length;r+=1)w[r].c();de=R(),g=p("button"),J=N(k),Re=R(),re=p("div"),A&&A.c(),b(l,"class","svelte-11f8joj"),b(u,"class",f=he(e[5]==="record"?"active":"")+" svelte-11f8joj"),b(s,"class",d=he(e[5]==="upload"?"active":"")+" svelte-11f8joj"),b(o,"class","mode-selector svelte-11f8joj"),b(M,"for","inputLanguage"),b(I,"class","svelte-11f8joj"),e[2]===void 0&&le(()=>e[20].call(I)),b(T,"for","outputLanguage"),b(O,"class","svelte-11f8joj"),e[3]===void 0&&le(()=>e[21].call(O)),b(H,"for","voice"),b(P,"class","svelte-11f8joj"),e[8]===void 0&&le(()=>e[22].call(P)),g.disabled=S=e[0]||e[4],b(g,"class","svelte-11f8joj"),b(re,"class","audio-player svelte-11f8joj"),b(t,"class","container svelte-11f8joj")},m(r,v){q(r,t,v),a(t,l),a(t,n),a(t,o),a(o,u),a(u,c),a(o,h),a(o,s),a(s,_),a(t,m),L&&L.m(t,null),a(t,$),E&&E.m(t,null),a(t,D),a(t,U),a(U,M),a(U,ne),a(U,I);for(let i=0;i<y.length;i+=1)y[i]&&y[i].m(I,null);Q(I,e[2],!0),a(t,oe),a(t,G),a(G,T),a(G,ae),a(G,O);for(let i=0;i<j.length;i+=1)j[i]&&j[i].m(O,null);Q(O,e[3],!0),a(t,ce),a(t,z),a(z,H),a(z,fe),a(z,P);for(let i=0;i<w.length;i+=1)w[i]&&w[i].m(P,null);Q(P,e[8],!0),a(t,de),a(t,g),a(g,J),a(t,Re),a(t,re),A&&A.m(re,null),_e||(Se=[B(u,"click",e[16]),B(s,"click",e[17]),B(I,"change",e[20]),B(O,"change",e[21]),B(P,"change",e[22]),B(g,"click",e[15])],_e=!0)},p(r,v){if(v[0]&32&&f!==(f=he(r[5]==="record"?"active":"")+" svelte-11f8joj")&&b(u,"class",f),v[0]&32&&d!==(d=he(r[5]==="upload"?"active":"")+" svelte-11f8joj")&&b(s,"class",d),r[5]==="upload"?L?L.p(r,v):(L=Fe(r),L.c(),L.m(t,$)):L&&(L.d(1),L=null),r[5]==="record"?E?E.p(r,v):(E=$e(r),E.c(),E.m(t,D)):E&&(E.d(1),E=null),v[0]&4096){V=X(r[12]);let i;for(i=0;i<V.length;i+=1){const K=De(r,V,i);y[i]?y[i].p(K,v):(y[i]=Te(K),y[i].c(),y[i].m(I,null))}for(;i<y.length;i+=1)y[i].d(1);y.length=V.length}if(v[0]&4100&&Q(I,r[2]),v[0]&4096){Y=X(r[12]);let i;for(i=0;i<Y.length;i+=1){const K=Ne(r,Y,i);j[i]?j[i].p(K,v):(j[i]=Be(K),j[i].c(),j[i].m(O,null))}for(;i<j.length;i+=1)j[i].d(1);j.length=Y.length}if(v[0]&4104&&Q(O,r[3]),v[0]&2048){Z=X(r[11]);let i;for(i=0;i<Z.length;i+=1){const K=Pe(r,Z,i);w[i]?w[i].p(K,v):(w[i]=qe(K),w[i].c(),w[i].m(P,null))}for(;i<w.length;i+=1)w[i].d(1);w.length=Z.length}v[0]&2304&&Q(P,r[8]),v[0]&1&&k!==(k=r[0]?"Generating...":"Submit")&&ye(J,k),v[0]&17&&S!==(S=r[0]||r[4])&&(g.disabled=S),r[7]?A?A.p(r,v):(A=Me(r),A.c(),A.m(re,null)):A&&(A.d(1),A=null)},i:C,o:C,d(r){r&&F(t),L&&L.d(),E&&E.d(),ge(y,r),ge(j,r),ge(w,r),A&&A.d(),_e=!1,se(Se)}}}let dt="https://api.thevoicetranslator.com/process-audio",ie=30;function pt(e){e.target.play().catch(t=>{console.error("Error playing audio:",t.message)})}function ht(e,t,l){let n,o,u=!1,c,f="en-US",h="es",s="",_=Oe("");Ae(e,_,g=>l(7,o=g));let d=!1,m,$,D="record",U=Oe();Ae(e,U,g=>l(6,n=g));let M;const ne=[{label:"Juyoung"},{label:"Jessica"},{label:"Aditi"},{label:"Jane"}],I=[{label:"Korean",value:"ko-KR"},{label:"English",value:"en-US"},{label:"Spanish",value:"es-ES"},{label:"French",value:"fr-FR"},{label:"Italian",value:"it-IT"},{label:"Hindi",value:"hi-IN"},{label:"Chinese",value:"zh-CN"},{label:"Dutch",value:"nl-NL"},{label:"Turkish",value:"tr-TR"},{label:"Swedish",value:"sv-SE"},{label:"Indonesian",value:"id-ID"},{label:"Filipino",value:"fil-PH"},{label:"Japanese",value:"ja-JP"},{label:"Ukrainian",value:"uk-UA"},{label:"Greek",value:"el-GR"},{label:"Czech",value:"cs-CZ"},{label:"Finnish",value:"fi-FI"},{label:"Romanian",value:"ro-RO"},{label:"Russian",value:"ru-RU"},{label:"Danish",value:"da-DK"},{label:"Bulgarian",value:"bg-BG"},{label:"Malay",value:"ms-MY"},{label:"Slovak",value:"sk-SK"},{label:"Croatian",value:"hr-HR"},{label:"Classic Arabic",value:"ar-SA"},{label:"Tamil",value:"ta-IN"},{label:"Polish",value:"pl-PL"},{label:"German",value:"de-DE"},{label:"Portuguese",value:"pt-BR"}];let oe;async function G(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){const g=await navigator.mediaDevices.getUserMedia({audio:!0}),k=new MediaRecorder(g);m=k,k.start();const J=[];k.addEventListener("dataavailable",S=>{J.push(S.data)}),k.addEventListener("stop",()=>{const S=new Blob(J.slice(0,ie));URL.createObjectURL(S),$=new File([S],"recordedAudio.wav",{type:"audio/wav"}),l(1,c=$)}),l(4,d=!0),U.set(ie),M=setInterval(()=>{U.update(S=>S===0?(clearInterval(M),T(),0):S-1)},1e3),oe=setTimeout(T,ie*1e3)}else console.error("Recording not supported")}function T(){m&&(m.stop(),clearTimeout(oe),clearInterval(M),l(4,d=!1),U.set(ie))}async function ae(){l(0,u=!0);const g=new FormData;g.append("audio",c),g.append("input_lang",f),g.append("output_lang",h.substring(0,2)),g.append("voice",s);try{const k=await fetch(dt,{method:"POST",body:g});if(k.ok){const J=await k.blob(),S=URL.createObjectURL(J);_.set(S)}else console.error("Server error:",k)}catch(k){console.error("Error sending request to server:",k)}l(0,u=!1)}const O=()=>l(5,D="record"),ce=()=>l(5,D="upload"),z=g=>{l(1,c=g.target.files[0]),console.log("Audio file selected:",c.name)},H=()=>d?T():G();function fe(){f=ve(this),l(2,f),l(12,I)}function P(){h=ve(this),l(3,h),l(12,I)}function de(){s=ve(this),l(8,s),l(11,ne)}return[u,c,f,h,d,D,n,o,s,_,U,ne,I,G,T,ae,O,ce,z,H,fe,P,de]}class _t extends ut{constructor(t){super(),it(this,t,ht,ft,Ke,{},null,[-1,-1])}}new _t({target:document.getElementById("app")});
